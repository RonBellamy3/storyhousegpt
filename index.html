<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StoryhouseGPT</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Georgia', 'Times New Roman', serif;
            height: 100vh;
            display: flex;
            flex-direction: column;
            background: linear-gradient(135deg, #2c2416 0%, #1a1510 100%);
        }
        #header {
            background: linear-gradient(135deg, #c9a961 0%, #d4b76f 100%);
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }
        #header h1 { 
            color: #2c2416; 
            font-size: 28px; 
            font-weight: 400;
            letter-spacing: 2px;
        }
        #header p { 
            color: #3d3020; 
            font-size: 14px; 
            margin-top: 5px;
            font-style: italic;
        }
        #messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .message {
            display: flex;
            gap: 10px;
            max-width: 80%;
        }
        .message.user { align-self: flex-end; flex-direction: row-reverse; }
        .message.assistant { align-self: flex-start; }
        .avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            flex-shrink: 0;
            overflow: hidden;
            border: 2px solid #c9a961;
        }
        .avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .message.user .avatar { 
            background: #c9a961;
            color: #2c2416;
        }
        .message.assistant .avatar { 
            background: white;
            padding: 0;
        }
        .bubble {
            padding: 15px 18px;
            border-radius: 15px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.2);
            line-height: 1.6;
        }
        .message.user .bubble { 
            background: linear-gradient(135deg, #c9a961 0%, #d4b76f 100%);
            color: #2c2416;
        }
        .message.assistant .bubble { 
            background: rgba(255, 255, 255, 0.95);
            color: #2c2416;
        }
        .bubble h3 {
            margin: 0 0 10px 0;
            font-size: 16px;
            color: #c9a961;
            border-bottom: 2px solid #c9a961;
            padding-bottom: 5px;
            font-weight: 400;
            letter-spacing: 1px;
        }
        .message.user .bubble h3 { 
            color: #2c2416; 
            border-color: #2c2416; 
        }
        .bubble ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        .bubble li {
            margin: 5px 0;
        }
        .bubble strong {
            color: #c9a961;
            font-weight: 600;
        }
        .message.user .bubble strong { 
            color: #2c2416;
        }
        .bubble p {
            margin: 8px 0;
        }
        .follow-up {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(201, 169, 97, 0.3);
            font-style: italic;
            color: #7d6c4a;
        }
        .message.user .follow-up { 
            color: #3d3020; 
            border-color: rgba(45, 36, 22, 0.3);
        }
        .time { 
            font-size: 11px; 
            opacity: 0.7; 
            margin-top: 5px;
            font-style: italic;
        }
        #input-area {
            background: rgba(201, 169, 97, 0.1);
            padding: 20px;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.3);
            border-top: 1px solid rgba(201, 169, 97, 0.3);
        }
        #input-container {
            display: flex;
            gap: 10px;
        }
        #user-input {
            flex: 1;
            padding: 12px;
            border: 2px solid #c9a961;
            border-radius: 10px;
            font-size: 14px;
            font-family: inherit;
            resize: none;
            background: rgba(255, 255, 255, 0.95);
            color: #2c2416;
        }
        #user-input:focus {
            outline: none;
            border-color: #d4b76f;
            box-shadow: 0 0 0 3px rgba(201, 169, 97, 0.2);
        }
        #user-input::placeholder {
            color: #7d6c4a;
            font-style: italic;
        }
        button {
            background: linear-gradient(135deg, #c9a961 0%, #d4b76f 100%);
            color: #2c2416;
            border: none;
            padding: 12px 24px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            font-family: inherit;
            letter-spacing: 1px;
            transition: all 0.3s ease;
        }
        button:hover { 
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(201, 169, 97, 0.4);
        }
        button:disabled { 
            background: #5a4f3d;
            cursor: not-allowed;
            transform: none;
        }
        .loading {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #c9a961;
            animation: pulse 1s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
    </style>
</head>
<body>
    <div id="header">
        <h1>STORYHOUSE STUDIO AI</h1>
        <p>Your home for cinematic storytelling â€¢ Powered by Claude</p>
    </div>

    <div id="messages">
        <div class="message assistant">
            <div class="avatar">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%23c9a961'/%3E%3Ctext x='50' y='65' font-size='50' text-anchor='middle' fill='%232c2416' font-family='Georgia'%3ES%3C/text%3E%3C/svg%3E" alt="AI Assistant">
            </div>
            <div class="bubble">
                <div>ðŸ‘‹ Welcome to Storyhouse Studio! I'm your AI assistant, here to help with booking procedures, studio specs, equipment, contacts, and everything you need to know about our space.</div>
                <div class="time" id="init-time"></div>
            </div>
        </div>
    </div>

    <div id="input-area">
        <div id="input-container">
            <textarea id="user-input" rows="2" placeholder="Ask about booking rates, equipment, check-in procedures..."></textarea>
            <button id="send-btn" onclick="sendMessage()">Send</button>
        </div>
    </div>

    <script>
        const WORKER_URL = 'https://storyhousegpt-proxy.bellamyiiir.workers.dev/';
        
        const SOP_DATA = `STORYHOUSE STUDIO - COMPLETE SOP HANDBOOK
Location: 3001 S Lamar Blvd Suite 220, Austin, TX 78704

=== BOOKING PROCESS ===

PLATFORMS WHERE CLIENTS CAN BOOK:
1. Peerspace (Main platform - most bookings)
   - Media Productions: $175/hr (https://www.peerspace.com/pages/listings/67858164ed97ebb583c77138)
   - Meetings: $249/hr (https://www.peerspace.com/pages/listings/67858164ed97ebb583c7713a)
2. Email: Studio@debutu.co
3. Google Listing
4. Studio Website: www.debutu.co
5. Austin Film Commission Studio Facilities
6. Giggster

INQUIRY RESPONSE TIME:
- Goal: Respond within 1 hour (ideally 10-30 minutes)
- Quick responses keep Peerspace rating high and affect algorithm visibility
- After hours template: "Hello and thank you for reaching out! I'm the studio assistant, and am forwarding this to the studio manager's attention asap. We are excited to host you, and will reply to your message as soon as possible."

IMPORTANT BOOKING DETAILS:
- Studio time policy: 30 minute grace period before charging overage
- Space capacity: 49 people per fire marshall
- Minimum rental: 3 hours
- Share Studio Rental Guide PDF once booking confirmed and past cancellation window
- Collect client contact info via intake form and add to CRM

BOOKING RATES:
- Peerspace Media Productions: $175/hr
- Peerspace Events: $249/hr (events = alcoholic beverages, catering, or speakers present)
- Direct Media Productions: $150/hr
- Direct Events: $234/hr
- Overtime on platform: $175/hr
- Overtime off platform: $150/hr

=== STUDIO ACCESS & SECURITY ===

HOURS OF OPERATION: 8am-9pm

DOOR ACCESS:
- Building locked before 8am and after 6pm Monday-Friday
- Locked all hours on weekends
- Exterior key card needed (pick up day before, leave on table by sink)
- Studio suite door code provided in rental guide
- To unlock suite for day: 33288 A4A
- To lock suite: 33288 A5A

PARKING: Available on both sides of building, freight elevator available

SECURITY CONTACTS:
- Non-emergency: 512-888-1354 (Corners 1 office building)
- Emergency: 911

=== STUDIO SPECIFICATIONS ===

SIZE: 1,200 sq ft
CAPACITY: 49 people

INCLUDED WITH EVERY BOOKING (NO EXTRA CHARGE):
- (3) Basic Nanlite lights package
- 75 inch Samsung Frame TV
- Vestaboard
- WiFi, Fridge, Microwave, Coffee Machine
- Sink, Filtered Water (hot/cold)
- Complimentary Tea bags

TECHNICAL SPECS:
- Blackout Curtains: 97-98% effective
- High Speed Wi-Fi

FULL LIGHTING PACKAGE INVENTORY (Available as add-on):
Continuous Lighting Package: $450 flat fee + Comes with grip cart

- (4) Nanlite Forza 60B II (Bi-Color) 2700k-6500k
- (1) Nanlite Forza 300B II (Bi-Color) 2700k-6500k
- (2) Nanlite Forza 500B II (Bi-Color) 2700k-6500k
- (4) 4ft Quasar RGB lights
- (2) ~4ft Nanlite Softboxes (Parabolic 120)
- (2) ~2ft Nanlite Softboxes (60 FMM)
- Fresnels with barn doors (4 for 60's, 2 for 300's/500's)
- 4x4 black flag

GRIP CART INVENTORY:
- (3) Combo Stands
- C-Stands (various sizes)
- Baby Stands, Arri stands
- Safety cables, clamps, sandbags
- Extension cords (15ft and 50ft)

=== ADD-ON SERVICES ===

SPACE MODIFICATIONS:
- Smoked Glass/Frosted Windows: $200 flat fee
- Leadership Office: $50/hr (owner's discretion)

STAFFING & SERVICES:
- Field Producer: $100/hr
- Photographer: $150/hr
- Director of Photography: $150/hr
- Professional Videographer: $100/hr
- BTS Photography: $150/hr
- Teleprompter Operator Full Day: $750 flat fee
- Teleprompter Operator Half Day: $450 flat fee

PRODUCTION EQUIPMENT:
- 19" Teleprompter w/ Miller Tripod: $50/hr (3 hour minimum)
- EyeDirect - Folding Mark E: $100/item (3 hour minimum)
- Miller Tripod: $50 flat rate
- Sony A7siii Camera w/ lens + tripod: $50/hr
- Sony FX9 Camera w/ lens on Tripod: $750/hr
- Small Grip Kit: $100 flat fee
- Continuous Lighting Package: $450 flat fee + grip cart

OFFICE SUPPLIES:
- Vibe Board: $60/hour
- Wooden Chalkboard: $30/hour

OTHER:
- Overnight Equipment Storage: $500 flat fee
- Overnight Beverage Storage (for events): $100 flat fee

=== TRAINED STUDIO PAs (CONTRACTORS) ===

PRIMARY TEAM:
Frankie Chamberlain
- Phone: (228) 369-0233
- Email: Frankie_frank@live.com
- Last Training: 11/3/2025

Stephanie Ward-Harvey
- Phone: (425) 524-9728
- Email: Stephaniewardharvey@pm.me
- Last Training: 11/3/2025

Josh Jones
- Phone: (662) 315-5315
- Email: Triplej0612@gmail.com
- Last Training: 11/3/2025

Clay Maxwell
- Phone: (512) 596-6962
- Email: Claymaxwell@outlook.com
- Last Training: 11/3/2025

Aaron Sowells
- Phone: (713) 689-4524
- Email: Arod2009@outlook.com
- Last Training: 11/3/2025

BACKUP PAs:
Nathaniel Christ
- Phone: (323) 684-9285
- Email: Nathaniel@circuspicnic.com

Kelly Greenheart
- Phone: (512) 576-2345
- Email: Kelly@circuspicnic.com

=== PROPERTY MANAGEMENT CONTACTS ===

Melissa Beatty (Senior Property Manager - Danly Properties)
- Phone: (512) 219-7717 or (512) 219-9551
- Email: mbeatty@danlyproperties.com
- Main point of contact

Allen Newman (Project Manager - Danly Properties)
- Phone: (512) 871-9672
- Email: anewman@danlyproperties.com
- Building maintenance assistance

Evelyn Tavernier (President - Express Commercial Cleaning)
- Phone: (512) 919-4333
- Email: info@expresscommercialcleaning.com
- Cleaning services contact

=== CLIENT CHECK-IN PROCEDURE ===

PRE-GUEST SETUP:
1. Set AC to 70-72Â°F (Auto fan, both lobby and studio) - Start AC early on hot days
2. Open Equipment/Prop Room, check inventory
3. Clean hair/makeup table
4. Stock snacks (ONLY if <10 people - if 10+ remove snacks)
5. Move studio food to reserved fridge section (if 10+ people)
6. Clean tables and floors
7. Preset special requests

WELCOME SETUP:
- Create custom Vestaboard message (include IG handle)
- Unlock suite if high traffic (33288 A4A)
- Have building access card ready

TOUR HIGHLIGHTS:
- Bathroom location and code
- Router reset location
- Request furniture photos before moving
- Don't place equipment on nice furniture
- Exterior door alarm info
- Both thermostat locations
- iPad Kasa app for lights
- Samsung Frame TV screen mirroring
- End time expectations

=== CLIENT CHECK-OUT PROCEDURE ===

CLIENT RESPONSIBILITIES:
1. Set thermostats to 74Â°F Auto Fan mode
2. Close curtains on both walls
3. Turn off lights (except hallway to back office)
4. Return furniture to default locations
5. Start Roomba (prop doors with sandbags)
6. Bag trash, leave in hallway
7. Dispose large trash in dumpsters (NW side near Half Priced Books)
8. Leave access card on table by sink
9. Lock equipment/HMU room if used
10. Clean fridge of leftovers

INTERNAL TASKS:
- Leverage crew for larger resets
- Detailed scan for left items
- Confirm thermostat at 74Â°F and curtains closed
- Check all gear accounted for
- Replenish craft services
- Basic cleaning, set Roomba (clear floor)
- Check restrooms
- Re-lock suite: 33288 A5A

=== DAILY & WEEKLY MAINTENANCE ===

RING CAMERA:
- Lasts ~1 month per charge
- Notifications at 20% battery
- Use orange tool to remove
- See video guide for reinstallation

CRAFT SERVICES:
- Refill weekly from backstock in lockers
- Monthly Costco run: Keurig pods, sparkling water, snacks (include gluten-free)

CLEANING SCHEDULE:
Daily (M-F) - Building Janitorial:
- Empty trash, wipe kitchenette
- Clean door glass, sanitize handles/keypad

Weekly (Express CC): Vacuum/sweep, wipe desktops
Monthly (Express CC): Dust blinds
Special (Express CC): Deep cleans, glass/mirror cleaning

=== STUDIO MANAGER DAILY TASKS ===

1. Check suite 220 mailbox downstairs (business mail/IRS)
2. Check for new reviews and respond professionally
3. Request reviews from previous shoots
4. Monitor Peerspace response time (keep under 30 minutes)

=== POST-RENTAL PROCEDURES (Within 72 Hours) ===

1. UPDATE CHARGES ON PEERSPACE:
- Use "Add Overtime" or "Add Other Charges" links in confirmation email
- This is the ONLY way to report overtime/damages
- Must be done within 72 hours

2. REQUEST REVIEWS:
Message: "Thanks for choosing Storyhouse Studio! If you have feedback, we'd love to hear it. If you're open to a 5-star review, we'd be incredibly grateful."
Share Google Review and Peerspace links

3. ADD TO CRM:
- Add email/phone/IG handle to VidLead CRM/Newsletter
- Request permission to use stills/final product for marketing

=== STUDIO RULES ===

- No loud music or yelling
- Food/drink allowed (clean up after)
- Complete checkout list before leaving
- Photo furniture before moving
- Don't place equipment on nice furniture

=== PAYMENT & CANCELLATION ===

PAYMENT: Via Peerspace or direct invoicing
DEPOSIT: Per booking agreement
CANCELLATION:
- Off Platform: 50% refund within 7 days, 100% beyond 7 days
- On Platform: Per Peerspace terms

=== EXAMPLE PRODUCTIONS ===

"Filmed in Debut U Studio" YouTube Playlist available
Notable clients:
- BetterHelp
- Codie Sanchez
- Front Row Dads
- Daily Wire
- Big Think

=== PEERSPACE BEST PRACTICES ===

KEY METRICS:
- Conversion Rate: Inquiry-to-booking ratio
- Response Rate: Within 30 minutes (ideally 10 minutes)
- Reviews: Maintain high averages
- Bookings: More bookings = better visibility

PEERSPACE CHARGES: 15-20% of booking amount to hosts

IMPORTANT NOTES:
- Copy long messages before submitting (app may lose them)
- Response time affects algorithm ranking
- Reviews from either listing apply to both
- Updates to one listing must be manually repeated on other

=== STUDIO TOURS / LOCATION SCOUTS ===

- Constrain to 30 minutes
- Be clear about available time upfront
- Assess opportunity case by case
- Be courteous but maintain boundaries`;

        // Initialize
        document.getElementById('init-time').textContent = new Date().toLocaleTimeString();
        
        // Handle Enter key
        document.getElementById('user-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        async function sendMessage() {
            const input = document.getElementById('user-input');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Disable input
            input.disabled = true;
            document.getElementById('send-btn').disabled = true;
            
            // Add user message
            addMessage('user', message);
            input.value = '';
            
            // Show loading
            const loadingId = addMessage('assistant', '<span class="loading"></span> <span class="loading"></span> <span class="loading"></span>');
            
            try {
                const response = await fetch(WORKER_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        model: 'claude-sonnet-4-20250514',
                        max_tokens: 1024,
                        messages: [{
                            role: 'user',
                            content: `You are StoryhouseGPT, a friendly AI assistant for Storyhouse Studio. Answer based ONLY on this SOP:\n\n${SOP_DATA}\n\nQuestion: ${message}\n\nBe conversational and helpful.`
                        }]
                    })
                });
                
                // Remove loading
                document.getElementById(loadingId).remove();
                
                if (!response.ok) {
                    addMessage('assistant', `Error: ${response.status}. Please try again.`);
                } else {
                    const data = await response.json();
                    const answer = data.content?.[0]?.text || 'No response received.';
                    addMessage('assistant', answer);
                }
            } catch (error) {
                document.getElementById(loadingId).remove();
                addMessage('assistant', `Connection error: ${error.message}`);
            }
            
            // Re-enable input
            input.disabled = false;
            document.getElementById('send-btn').disabled = false;
            input.focus();
        }

        function addMessage(role, content) {
            const messagesDiv = document.getElementById('messages');
            const messageId = 'msg-' + Date.now();
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${role}`;
            messageDiv.id = messageId;
            
            messageDiv.innerHTML = `
                <div class="avatar">${role === 'user' ? 'ðŸ‘¤' : '<img src="data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 100 100\'%3E%3Ccircle cx=\'50\' cy=\'50\' r=\'50\' fill=\'%23c9a961\'/%3E%3Ctext x=\'50\' y=\'65\' font-size=\'50\' text-anchor=\'middle\' fill=\'%232c2416\' font-family=\'Georgia\'%3ES%3C/text%3E%3C/svg%3E" alt="AI">'}</div>
                <div class="bubble">
                    <div>${content}</div>
                    <div class="time">${new Date().toLocaleTimeString()}</div>
                </div>
            `;
            
            messagesDiv.appendChild(messageDiv);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
            
            return messageId;
        }
    </script>
</body>
</html>
